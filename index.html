<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Zoe Atlas üêû</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { margin:0; font-family: Arial, sans-serif; display:flex; height:100vh; overflow:hidden; }
  header { background-color:#ff66b2; color:white; padding:15px; border-bottom:4px solid #ff3399; position:fixed; width:100%; z-index:1100; }
  header h1 { margin:0; font-size:2em; }
  header p { margin:5px 0 0; font-size:1em; }
  #map { flex:1; height:100%; margin-top:110px; } /* adjust for fixed header */
  /* Sidebar */
  #sidebar { width:320px; max-width:80%; background:#e6ffe6; border-right:3px solid #ff66b2; overflow-y:auto; padding:10px; position:fixed; top:110px; bottom:0; left:0; transition:left 0.3s ease; z-index:1000; display:flex; flex-direction:column; }
  #sidebar.collapsed { left:-260px; }
  #sidebar h2 { margin-top:0; color:#ff3399; }
  details { margin-bottom:10px; border:1px solid #ccc; border-radius:5px; background:white; padding:5px; }
  summary { font-weight:bold; cursor:pointer; }
  ul { list-style:none; padding:0; margin:10px 0 0 10px; }
  li { margin-bottom:8px; cursor:pointer; padding:6px; border:1px solid #ddd; border-radius:4px; background:#fafafa; transition:background 0.3s; }
  li:hover { background:#f0f0f0; }
  .controls { display:flex; flex-direction:column; gap:10px; margin-bottom:15px; }
  #search-bar { width:100%; padding:8px; border:1px solid #ccc; border-radius:5px; box-sizing:border-box; }
  #reset-view { width:100%; padding:8px; border:none; background-color:#ff66b2; color:white; border-radius:5px; cursor:pointer; }
  /* Hamburger */
  #hamburger { position:fixed; top:10px; left:10px; z-index:1100; background:#ff66b2; color:white; border:none; font-size:24px; padding:8px 12px; border-radius:5px; cursor:pointer; }
  #collapse-btn { margin-top:5px; padding:4px 6px; font-size:0.9em; border:none; background:#ff66b2; color:white; border-radius:4px; cursor:pointer; }
  footer { background-color:#ff66b2; color:white; text-align:center; padding:8px; position:fixed; bottom:0; width:100%; font-size:0.9em; z-index:1100; }
</style>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB38rOcYSnjrdPynqMR6i0vpP8ZYi1Z2W4"></script>
<script>
let map;
let markers = [];
const places = [
  // --- Ireland (Dublin) ---
  { country:"Ireland", city:"Dublin", name:"Nine Crows Vintage üçΩÔ∏è", position:{lat:53.3437,lng:-6.2646}, description:"Curated Y2K vintage ‚Äì diverse staff, fun vibe.", address:"22 Temple Lane S, Dublin 2, D02 HP52, Ireland" },
  { country:"Ireland", city:"Dublin", name:"Lou's Lot üõçÔ∏è", position:{lat:53.3425,lng:-6.2634}, description:"Luxury vintage inside the arcade.", address:"South Great George's Street, Dublin 2, Ireland" },
  { country:"Ireland", city:"Dublin", name:"Copper and Straw ‚òï", position:{lat:53.3461,lng:-6.2638}, description:"Great coffee & friendly staff.", address:"Aston Quay, Temple Bar, Dublin, D02 FV38, Ireland" },
  { country:"Ireland", city:"Dublin", name:"George's Arcade üõçÔ∏è", position:{lat:53.3430,lng:-6.2635}, description:"Open-air market full of character.", address:"South Great George's Street, Dublin 2, Ireland" },
  { country:"Ireland", city:"Dublin", name:"Bambino's üçΩÔ∏è", position:{lat:53.3395,lng:-6.2651}, description:"Cozy pizza spot, local favorite.", address:"37 Stephen Street Lower, Dublin 2, D02 T862, Ireland" },
  { country:"Ireland", city:"Dublin", name:"The Big Smoke Vintage Clothing üõçÔ∏è", position:{lat:53.3452,lng:-6.2639}, description:"Vintage treasures by Merchant‚Äôs Arch.", address:"Merchant's Arch, Dublin 2, D02 WP27, Ireland" },

  // --- Spain (Madrid) ---
  { country:"Spain", city:"Madrid", name:"Amazing Coffee ‚òï", position:{lat:40.4112,lng:-3.7035}, description:"Great vibe, Colombian owner ‚Äì hot spot.", address:"C. de San Mill√°n, 4, Centro, 28012 Madrid, Spain" },
  { country:"Spain", city:"Madrid", name:"Hot Now Pizza üçΩÔ∏è", position:{lat:40.4235,lng:-3.6994}, description:"Great pizza spot.", address:"C. de Barbieri, 14, Centro, 28004 Madrid, Spain" },
  { country:"Spain", city:"Madrid", name:"Han So Caf√© ‚òï", position:{lat:40.4240,lng:-3.7060}, description:"Trendy coffee + caf√© spot in Malasa√±a.", address:"Calle Pez 20, Barrio Malasa√±a, 28004, Madrid" },
  { country:"Spain", city:"Madrid", name:"San Miguel Market üõçÔ∏è", position:{lat:40.4154,lng:-3.7094}, description:"Big, bustling market ‚Äì must visit.", address:"Plaza de San Miguel, 28005 Madrid, Spain" },
  { country:"Spain", city:"Madrid", name:"Honest Greens üçΩÔ∏è", position:{lat:40.4512,lng:-3.6889}, description:"Cheap & healthy food ‚Äì any location works.", address:"Paseo de la Castellana, 89, 28046, Madrid" },
  { country:"Spain", city:"Madrid", name:"Humana (Thrift Store) üõçÔ∏è", position:{lat:40.4236,lng:-3.6717}, description:"Great deals, some items from ‚Ç¨2, discounts on certain days.", address:"Calle de Alcal√°, 171, 28009, Madrid" },
  { country:"Spain", city:"Madrid", name:"By Pillow Hostel üõå", position:{lat:40.4107,lng:-3.7026}, description:"Great location, friendly staff.", address:"Calle de Jes√∫s y Mar√≠a, 12, 28012, Madrid" },
  { country:"Spain", city:"Madrid", name:"Ambu Nu√±ez Caf√© ‚òï", position:{lat:40.4292,lng:-3.6831}, description:"Excellent coffee ‚Äì cold brew is amazing. Two locations.", address:"Calle Nu√±ez de Balboa 28, 28001 Madrid, Spain" },
  { country:"Spain", city:"Madrid", name:"Alma Nomad Bakery üçΩÔ∏è", position:{lat:40.4368,lng:-3.7009}, description:"Great bakery ‚Äì two locations, plus pizza shop nearby.", address:"C/ Sta. Feliciana 10, 28010 Madrid, Spain" },
  { country:"Spain", city:"Madrid", name:"Alma Nomad Pizza üçΩÔ∏è", position:{lat:40.4365,lng:-3.7015}, description:"Delicious pizza by Alma Nomad Bakery.", address:"C. de Sta. Feliciana, 4, 28010 Madrid, Spain" },

  // --- Spain (Barcelona) ---
  { country:"Spain", city:"Barcelona", name:"De La Creme üçΩÔ∏è", position:{lat:41.3907,lng:2.1594}, description:"Great gelato & friendly staff.", address:"Carrer d'Enric Granados, 15, 08007 Barcelona, Spain" },
  { country:"Spain", city:"Barcelona", name:"Honest Greens üçΩÔ∏è", position:{lat:41.3888,lng:2.1590}, description:"Healthy, delicious food at good prices.", address:"Various locations, Barcelona, Spain" },
  { country:"Spain", city:"Barcelona", name:"Hotel Market üè®", position:{lat:41.3787,lng:2.1598}, description:"Excellent location, great staff & accommodations.", address:"Carrer del Comte Borrell, 68, 08015 Barcelona, Spain" },
  { country:"Spain", city:"Barcelona", name:"Papa D√¢m üçΩÔ∏è", position:{lat:41.3779,lng:2.1623}, description:"Delicious food ‚Äì try the garlic rice!", address:"Rda. de Sant Pau, 11, 08015 Barcelona, Spain" },
  { country:"Spain", city:"Barcelona", name:"Origo ‚òï", position:{lat:41.3778,lng:2.1638}, description:"Amazing staff, cardamom bun + coffee spot.", address:"Rda. de Sant Pau, 67, 08015 Barcelona, Spain" },

  // --- Guatemala (Antigua) ---
  { country:"Guatemala", city:"Antigua", name:"Hotel Casa Do√±a Antonia üè®", position:{lat:14.5560,lng:-90.7336}, description:"Gorgeous hotel ‚Äì breakfast amazing, staff so welcoming.", address:"1A Calle Oriente 9A, Casa 9, Alameda Santa Rosa, Antigua, Guatemala" },
  { country:"Guatemala", city:"Antigua", name:"Casa Donya Hotel Antigua üè®", position:{lat:14.5591,lng:-90.7340}, description:"Beautiful venue ‚Äì phenomenal pizza, welcoming staff.", address:"3a Calle Oriente 16a, Antigua Guatemala, Sacatep√©quez" },
  { country:"Guatemala", city:"Antigua", name:"La Tasca üçΩÔ∏è", position:{lat:14.5825,lng:-90.6768}, description:"Great vibes ‚Äì get the shrimp tostadas.", address:"2 Avenida, Magdalena Milpas Altas, Sacatep√©quez" },

  // --- Guatemala (Guatemala City) ---
  { country:"Guatemala", city:"Guatemala City", name:"12 ONZAS ‚òï", position:{lat:14.6039,lng:-90.4880}, description:"Great coffee & matcha, beautiful space to relax.", address:"Calle 3-57 13, Zona 10, Guatemala City, 01010", link:"https://12onzas.com" },
  { country:"Guatemala", city:"Guatemala City", name:"Oakland Mall üõçÔ∏è", position:{lat:14.6019,lng:-90.5133}, description:"Beautiful mall ‚Äì very welcoming.", address:"Local 115 A, Calle Real de la Villa Guadalupe, 13-01, Zona 10, Guatemala City" },
  { country:"Guatemala", city:"Guatemala City", name:"Mega Paca (Thrift Store) üõçÔ∏è", position:{lat:14.6291,lng:-90.5174}, description:"Huge thrift store, great deals, welcoming staff.", address:"19 Avenida 10-63, Guatemala, 01011" },
  { country:"Guatemala", city:"Guatemala City", name:"Smart Training Gym üèãÔ∏è", position:{lat:14.6357,lng:-90.5132}, description:"Great vibes ‚Äì grab a smoothie at the desk!", address:"5 Av. 8-40 Zona 1, Guatemala City, Guatemala" },

  // --- Guatemala (Panajachel) ---
  { country:"Guatemala", city:"Panajachel", name:"Nativo Caf√© ‚òï", position:{lat:14.7419,lng:-91.1569}, description:"Great coffee, breakfast amazing, friendly staff.", address:"Calle Del Frutal, Panajachel 07010" },
  { country:"Guatemala", city:"Panajachel", name:"The Little Spoon üçΩÔ∏è", position:{lat:14.7424,lng:-91.1571}, description:"Great breakfast, affordable, welcoming staff.", address:"Calle Santander, Panajachel 07010" },

  // --- Guatemala (Lake Atitl√°n / Santiago Atitl√°n) ---
  { country:"Guatemala", city:"Santiago Atitl√°n", name:"Space Coffee ‚òï", position:{lat:14.6355,lng:-91.2290}, description:"Great coffee, amazing staff, beautiful space.", address:"02 AV 05-077, Calle las artesan√≠as, Santiago Atitl√°n" }
];

// Add markers to map
function addMarkersToMap(filteredPlaces){
  markers.forEach(m => m.setMap(null));
  markers=[];
  filteredPlaces.forEach(place=>{
    const marker=new google.maps.Marker({
      position: place.position,
      map: map,
      title: place.name,
      animation: google.maps.Animation.DROP
    });
    const infoWindow=new google.maps.InfoWindow({ content:`<h3>${place.name}</h3><p>${place.description}</p><p><em>${place.address}</em></p>${place.link?`<p><a href="${place.link}" target="_blank">Website</a></p>`:""}` });
    marker.addListener("click",()=>{ infoWindow.open(map,marker); });
    markers.push(marker);
  });
}

// Render sidebar
function renderPlaces(filteredPlaces){
  const list=document.getElementById("place-list");
  list.innerHTML='';
  const grouped={};
  filteredPlaces.forEach(place=>{
    if(!grouped[place.country]) grouped[place.country]={};
    if(!grouped[place.country][place.city]) grouped[place.country][place.city]=[];
    grouped[place.country][place.city].push(place);
  });
  Object.keys(grouped).forEach(country=>{
    const countryDetails=document.createElement("details");
    const countrySummary=document.createElement("summary");
    countrySummary.textContent=country;
    countryDetails.appendChild(countrySummary);
    Object.keys(grouped[country]).forEach(city=>{
      const cityDetails=document.createElement("details");
      const citySummary=document.createElement("summary");
      citySummary.textContent=city;
      cityDetails.appendChild(citySummary);
      const ul=document.createElement("ul");
      grouped[country][city].forEach(place=>{
        const li=document.createElement("li");
        li.innerHTML=`<strong>${place.name}</strong><br><small>${place.description}</small>`;
        li.addEventListener("click",()=>{
          map.setCenter(place.position);
          map.setZoom(15);
          const marker=markers.find(m=>m.title===place.name);
          if(marker){
            const infoWindow=new google.maps.InfoWindow({ content:`<h3>${place.name}</h3><p>${place.description}</p><p><em>${place.address}</em></p>${place.link?`<p><a href="${place.link}" target="_blank">Website</a></p>`:""}` });
            infoWindow.open(map,marker);
          }
        });
        ul.appendChild(li);
      });
      cityDetails.appendChild(ul);
      countryDetails.appendChild(cityDetails);
    });
    list.appendChild(countryDetails);
  });
}

// Filter search
function filterPlaces(){
  const term=document.getElementById("search-bar").value.toLowerCase();
  const filtered=places.filter(p=>p.name.toLowerCase().includes(term) || p.description.toLowerCase().includes(term) || p.address.toLowerCase().includes(term));
  renderPlaces(filtered);
  addMarkersToMap(filtered);
}

// Reset map
function resetView(){
  document.getElementById("search-bar").value="";
  map.setZoom(3);
  map.setCenter({lat:20,lng:-20});
  filterPlaces();
}

// Init map
function initMap(){
  map=new google.maps.Map(document.getElementById("map"),{ zoom:3, center:{lat:20,lng:-20} });
  addMarkersToMap(places);
  renderPlaces(places);
  document.getElementById("search-bar").addEventListener("keyup",filterPlaces);
  document.getElementById("reset-view").addEventListener("click",resetView);
  document.getElementById("collapse-btn").addEventListener("click",()=>{
    const sidebar=document.getElementById("sidebar");
    sidebar.classList.toggle("collapsed");
    document.getElementById("collapse-btn").textContent=sidebar.classList.contains("collapsed")?"Expand ‚û°Ô∏è":"Collapse ‚¨ÖÔ∏è";
  });
}

// Hamburger
function toggleSidebar(){ document.getElementById("sidebar").classList.toggle("active"); }
</script>
</head>
<body onload="initMap()">
<button id="hamburger" onclick="toggleSidebar()">‚ò∞</button>
<div id="sidebar">
  <header>
    <h1>Zoe's Atlas üêû</h1>
    <p>Welcome to Zoe's Atlas! üåé<br>
       This is a curated collection of safe, welcoming, and Black-friendly spots across the globe. <br>
       Click a location from the list to zoom in and see details. Use the search bar to find any place! üçΩÔ∏è‚òïüõçÔ∏èüèãÔ∏è</p>
    <button id="collapse-btn">Collapse ‚¨ÖÔ∏è</button>
  </header>
  <div class="controls">
    <input type="text" id="search-bar" placeholder="Search places..." aria-label="Search places">
    <button id="reset-view">View All Locations</button>
  </div>
  <h2>Places</h2>
  <div id="place-list"></div>
</div>
<div id="map"></div>
<footer><p>Curated with ‚ù§Ô∏è by Zoe</p></footer>
</body>
</html>

