<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zoe Atlas üêû</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffe6f0;
      color: #333;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background-color: #ff66b2;
      color: white;
      text-align: center;
      padding: 20px;
    }
    .main-container {
      display: flex;
      flex-grow: 1;
      flex-direction: column;
    }
    @media (min-width: 768px) {
      .main-container {
        flex-direction: row;
      }
    }
    #sidebar {
      width: 100%;
      background-color: #e6ffe6;
      padding: 20px;
      overflow-y: auto;
    }
    @media (min-width: 768px) {
      #sidebar {
        width: 350px;
        max-height: calc(100vh - 84px); /* Adjust based on header/footer size */
        border-right: 2px solid #ff66b2;
      }
    }
    #map {
      height: 500px;
      width: 100%;
    }
    @media (min-width: 768px) {
      #map {
        height: auto;
        flex-grow: 1;
      }
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
    }
    .controls input[type="text"] {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      flex-grow: 1;
    }
    .controls select {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .places-list h2 {
      margin-top: 0;
      color: #ff3399;
    }
    details {
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background: white;
      padding: 10px;
    }
    summary {
      font-weight: bold;
      font-size: 1.2em;
      cursor: pointer;
      color: #222;
    }
    ul {
      list-style: none;
      padding: 0;
      margin: 10px 0 0 15px;
    }
    li {
      margin-bottom: 10px;
      cursor: pointer;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #fafafa;
      transition: background 0.3s;
    }
    li:hover {
      background: #f0f0f0;
    }
    footer {
      background-color: #ff66b2;
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: auto;
    }
  </style>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB38rOcYSnjrdPynqMR6i0vpP8ZYi1Z2W4"></script>
  <script>
    let map;
    let markers = [];
    
    const categoryEmoji = {
      hotel: "üè®",
      restaurant: "üçΩÔ∏è",
      coffee: "‚òï",
      shop: "üõçÔ∏è",
      gym: "üí™"
    };

    const places = [
      // --- Dublin ---
      {
        country: "Ireland",
        city: "Dublin",
        name: "Nine Crows Vintage",
        category: "shop",
        position: { lat: 53.3437, lng: -6.2646 },
        description: "Curated Y2K vintage ‚Äì diverse staff, fun vibe.",
        tip: "",
        link: "",
        address: "22 Temple Lane S, Dublin 2, D02 HP52, Ireland"
      },
      {
        country: "Ireland",
        city: "Dublin",
        name: "Lou's Lot (George's Street Arcade)",
        category: "shop",
        position: { lat: 53.3425, lng: -6.2634 },
        description: "Luxury vintage inside the arcade.",
        tip: "",
        link: "",
        address: "South Great George's Street, Dublin 2, Ireland"
      },
      {
        country: "Ireland",
        city: "Dublin",
        name: "Copper and Straw",
        category: "coffee",
        position: { lat: 53.3461, lng: -6.2638 },
        description: "Great coffee & friendly staff.",
        tip: "",
        link: "",
        address: "Aston Quay, Temple Bar, Dublin, D02 FV38, Ireland"
      },
      {
        country: "Ireland",
        city: "Dublin",
        name: "George's Arcade",
        category: "shop",
        position: { lat: 53.3430, lng: -6.2635 },
        description: "Open-air market full of character.",
        tip: "",
        link: "",
        address: "South Great George's Street, Dublin 2, Ireland"
      },
      {
        country: "Ireland",
        city: "Dublin",
        name: "Bambino's",
        category: "restaurant",
        position: { lat: 53.3395, lng: -6.2651 },
        description: "Cozy pizza spot, local favorite.",
        tip: "",
        link: "",
        address: "37 Stephen Street Lower, Dublin 2, D02 T862, Ireland"
      },
      {
        country: "Ireland",
        city: "Dublin",
        name: "The Big Smoke Vintage Clothing",
        category: "shop",
        position: { lat: 53.3452, lng: -6.2639 },
        description: "Vintage treasures by Merchant‚Äôs Arch.",
        tip: "",
        link: "",
        address: "Merchant's Arch, Dublin 2, D02 WP27, Ireland"
      },

      // --- Madrid ---
      {
        country: "Spain",
        city: "Madrid",
        name: "Amazing Coffee (Colombian owner)",
        category: "coffee",
        position: { lat: 40.4112, lng: -3.7035 },
        description: "Great vibe, Colombian owner ‚Äì hot spot.",
        tip: "",
        link: "",
        address: "C. de San Mill√°n, 4, Centro, 28012 Madrid, Spain"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Hot Now Pizza",
        category: "restaurant",
        position: { lat: 40.4235, lng: -3.6994 },
        description: "Great pizza spot.",
        tip: "",
        link: "",
        address: "C. de Barbieri, 14, Centro, 28004 Madrid, Spain"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Han So Caf√©",
        category: "coffee",
        position: { lat: 40.4240, lng: -3.7060 },
        description: "Trendy coffee + caf√© spot in Malasa√±a.",
        tip: "",
        link: "",
        address: "Calle Pez 20, Barrio Malasa√±a, 28004, Madrid"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "San Miguel Market",
        category: "shop",
        position: { lat: 40.4154, lng: -3.7094 },
        description: "Big, bustling market ‚Äì must visit.",
        tip: "",
        link: "",
        address: "Plaza de San Miguel, 28005 Madrid, Spain"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Honest Greens",
        category: "restaurant",
        position: { lat: 40.4512, lng: -3.6889 },
        description: "Cheap & healthy food ‚Äì any location works.",
        tip: "",
        link: "",
        address: "Paseo de la Castellana, 89, 28046 Madrid"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Humana (Thrift Store)",
        category: "shop",
        position: { lat: 40.4236, lng: -3.6717 },
        description: "Great deals, some items from ‚Ç¨2, discounts on certain days.",
        tip: "",
        link: "",
        address: "Calle de Alcal√°, 171, 28009 Madrid"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "By Pillow Hostel",
        category: "hotel",
        position: { lat: 40.4107, lng: -3.7026 },
        description: "Great location, friendly staff.",
        tip: "",
        link: "",
        address: "Calle de Jes√∫s y Mar√≠a, 12, 28012 Madrid"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Ambu Nu√±ez Caf√©",
        category: "coffee",
        position: { lat: 40.4292, lng: -3.6831 },
        description: "Excellent coffee ‚Äì cold brew is amazing. Two locations.",
        tip: "",
        link: "",
        address: "Calle Nu√±ez de Balboa 28, 28001 Madrid, Spain"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Alma Nomad Bakery",
        category: "restaurant",
        position: { lat: 40.4368, lng: -3.7009 },
        description: "Great bakery ‚Äì two locations, plus pizza shop nearby.",
        tip: "",
        link: "",
        address: "C/ Sta. Feliciana 10, 28010 Madrid, Spain"
      },
      {
        country: "Spain",
        city: "Madrid",
        name: "Alma Nomad Pizza",
        category: "restaurant",
        position: { lat: 40.4365, lng: -3.7015 },
        description: "Delicious pizza by Alma Nomad Bakery.",
        tip: "",
        link: "",
        address: "C. de Sta. Feliciana, 4, 28010 Madrid, Spain"
      },

      // --- Barcelona ---
      {
        country: "Spain",
        city: "Barcelona",
        name: "De La Creme",
        category: "restaurant",
        position: { lat: 41.3907, lng: 2.1594 },
        description: "Great gelato & friendly staff.",
        tip: "",
        link: "",
        address: "Carrer d'Enric Granados, 15, 08007 Barcelona, Spain"
      },
      {
        country: "Spain",
        city: "Barcelona",
        name: "Honest Greens",
        category: "restaurant",
        position: { lat: 41.3888, lng: 2.1590 },
        description: "Healthy, delicious food at good prices.",
        tip: "",
        link: "",
        address: "Various locations, Barcelona, Spain"
      },
      {
        country: "Spain",
        city: "Barcelona",
        name: "Hotel Market",
        category: "hotel",
        position: { lat: 41.3787, lng: 2.1598 },
        description: "Excellent location, great staff & accommodations.",
        tip: "",
        link: "",
        address: "Carrer del Comte Borrell, 68, 08015 Barcelona, Spain"
      },
      {
        country: "Spain",
        city: "Barcelona",
        name: "Papa D√¢m",
        category: "restaurant",
        position: { lat: 41.3779, lng: 2.1623 },
        description: "Delicious food ‚Äì try the garlic rice!",
        tip: "",
        link: "",
        address: "Rda. de Sant Pau, 11, 08015 Barcelona, Spain"
      },
      {
        country: "Spain",
        city: "Barcelona",
        name: "Origo",
        category: "coffee",
        position: { lat: 41.3778, lng: 2.1638 },
        description: "Amazing staff, cardamom bun + coffee spot.",
        tip: "",
        link: "",
        address: "Rda. de Sant Pau, 67, 08015 Barcelona, Spain"
      },

      // --- Guatemala ---
      {
        country: "Guatemala",
        city: "Antigua",
        name: "Hotel Casa Donya",
        category: "hotel",
        position: { lat: 14.5592, lng: -90.7355 },
        description: "Gorgeous hotel ‚Äì breakfast was amazing, staff amazing, great location.",
        tip: "Try the breakfast pastries!",
        link: "https://www.booking.com/hotel/gt/casa-donya.html",
        address: "1A Calle Oriente 9A, Casa 9, Alameda Santa Rosa, Antigua"
      },
      {
        country: "Guatemala",
        city: "Antigua",
        name: "Casa 9 Hotel Antigua",
        category: "hotel",
        position: { lat: 14.5586, lng: -90.7348 },
        description: "Beautiful venue ‚Äì pizza was phenomenal, staff was welcoming.",
        tip: "Try the pizza!",
        link: "https://en.planetofhotels.com/guatemala/antigua-guatemala/barrio-de-antonelli-casa-9",
        address: "3a Calle Oriente 16a, Antigua Guatemala"
      },
      {
        country: "Guatemala",
        city: "Guatemala City",
        name: "12 ONZAS",
        category: "coffee",
        position: { lat: 14.6342, lng: -90.5069 },
        description: "Great coffee matcha and beautiful space to relax.",
        tip: "Try the matcha latte!",
        link: "http://12onzas.com",
        address: "Calle 3-57 13 | Zona 10, Guatemala City"
      },
      {
        country: "Guatemala",
        city: "Panajachel",
        name: "Nativo Caf√©",
        category: "coffee",
        position: { lat: 14.7400, lng: -91.1525 },
        description: "Great coffee, breakfast was amazing, staff were friendly.",
        tip: "Try the house latte!",
        link: "https://www.instagram.com/nativo_cafe_/",
        address: "Calle Del Frutal, Panajachel 07010"
      },
      {
        country: "Guatemala",
        city: "Panajachel",
        name: "The Little Spoon",
        category: "restaurant",
        position: { lat: 14.7410, lng: -91.1530 },
        description: "Great breakfast ‚Äì affordable, friendly staff very welcoming.",
        tip: "Try the soup of the day!",
        link: "https://www.instagram.com/thelittlespoon.gt/",
        address: "Calle Santander, Panajachel 07010"
      },
      {
        country: "Guatemala",
        city: "Lake Atitlan",
        name: "Space Coffee",
        category: "coffee",
        position: { lat: 14.7290, lng: -91.1870 },
        description: "Great coffee ‚Äì amazing staff ‚Äì beautiful space.",
        tip: "Try the iced coffee!",
        link: "https://www.instagram.com/spacecoffee502/",
        address: "Santiago Atitl√°n zona 1, 02 AV 05-077, Calle las artesan√≠as"
      },
      {
        country: "Guatemala",
        city: "Guatemala City",
        name: "Oakland Mall",
        category: "shop",
        position: { lat: 14.6349, lng: -90.5090 },
        description: "Beautiful mall! Very welcoming, no one following us around.",
        tip: "Visit the food court on the top floor!",
        link: "https://www.instagram.com/oaklandplace.gt/",
        address: "Local 115 A, Calle Real de la Villa Guadalupe, 13-01, Zona 10"
      },
      {
        country: "Guatemala",
        city: "Guatemala City",
        name: "Mega Paca",
        category: "shop",
        position: { lat: 14.6370, lng: -90.5110 },
        description: "Thrift store ‚Äì great deals, welcoming staff, huge.",
        tip: "Check the new arrivals section!",
        link: "https://www.gettyimages.com/photos/megapaca",
        address: "19 Avenida 10-63, Guatemala"
      },
      {
        country: "Guatemala",
        city: "Guatemala City",
        name: "Smart Training Gym",
        category: "gym",
        position: { lat: 14.6350, lng: -90.5100 },
        description: "Great vibes ‚Äì get a smoothie from the desk.",
        tip: "Ask for the protein smoothie!",
        link: "https://www.instagram.com/smarttraininggt/",
        address: "5 Av. 8-40 Zona 1, Guatemala City"
      },
      {
        country: "Guatemala",
        city: "Antigua",
        name: "La Tasca",
        category: "restaurant",
        position: { lat: 14.5580, lng: -90.7340 },
        description: "Great vibes ‚Äì get the shrimp tostadas.",
        tip: "Try the shrimp tostadas!",
        link: "https://www.instagram.com/latascaantigua/",
        address: "2 Avenida, Magdalena Milpas Altas, Sacatep√©quez"
      }
    ];

    function createPlaceItem(place) {
      const li = document.createElement("li");
      li.innerHTML = `<strong>${categoryEmoji[place.category] || ""} ${place.name}</strong><br><small>${place.description}</small>`;
      li.addEventListener("click", () => {
        map.setCenter(place.position);
        map.setZoom(15);
        const marker = markers.find(m => m.title === place.name);
        if (marker) {
          const infoWindow = new google.maps.InfoWindow({
            content: createInfoWindowContent(place)
          });
          infoWindow.open(map, marker);
        }
      });
      return li;
    }

    function createInfoWindowContent(place) {
      return `
        <h3>${categoryEmoji[place.category] || ""} ${place.name}</h3>
        <p>${place.description}</p>
        ${place.tip ? `<p><strong>Tip:</strong> ${place.tip}</p>` : ''}
        ${place.link ? `<p><a href="${place.link}" target="_blank">More info</a></p>` : ''}
        <p><em>${place.address}</em></p>
      `;
    }

    function renderPlaces(filteredPlaces) {
      const list = document.getElementById("place-list");
      list.innerHTML = '';
      
      const grouped = {};
      filteredPlaces.forEach(place => {
        if (!grouped[place.country]) grouped[place.country] = {};
        if (!grouped[place.country][place.city]) grouped[place.country][place.city] = [];
        grouped[place.country][place.city].push(place);
      });

      Object.keys(grouped).forEach(country => {
        const countryDetails = document.createElement("details");
        const countrySummary = document.createElement("summary");
        countrySummary.textContent = country;
        countryDetails.appendChild(countrySummary);

        Object.keys(grouped[country]).forEach(city => {
          const cityDetails = document.createElement("details");
          const citySummary = document.createElement("summary");
          citySummary.textContent = city;
          cityDetails.appendChild(citySummary);
          
          const ul = document.createElement("ul");
          grouped[country][city].forEach(place => {
            ul.appendChild(createPlaceItem(place));
          });

          cityDetails.appendChild(ul);
          countryDetails.appendChild(cityDetails);
        });

        list.appendChild(countryDetails);
      });
    }

    function addMarkersToMap(filteredPlaces) {
      // Clear existing markers
      markers.forEach(marker => marker.setMap(null));
      markers = [];
      
      filteredPlaces.forEach(place => {
        const marker = new google.maps.Marker({
          position: place.position,
          map: map,
          title: place.name,
          animation: google.maps.Animation.DROP
        });

        const infoWindow = new google.maps.InfoWindow({
          content: createInfoWindowContent(place)
        });

        marker.addListener("click", () => {
          infoWindow.open(map, marker);
        });

        markers.push(marker);
      });
    }

    function filterPlaces() {
      const searchTerm = document.getElementById("search-bar").value.toLowerCase();
      const categoryFilter = document.getElementById("category-filter").value;

      const filtered = places.filter(place => {
        const matchesSearch = place.name.toLowerCase().includes(searchTerm) || 
                              place.description.toLowerCase().includes(searchTerm) ||
                              place.address.toLowerCase().includes(searchTerm);
        const matchesCategory = categoryFilter === "all" || place.category === categoryFilter;
        return matchesSearch && matchesCategory;
      });

      renderPlaces(filtered);
      addMarkersToMap(filtered);
    }
    
    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 5,
        center: { lat: 20, lng: -10 }
      });

      renderPlaces(places);
      addMarkersToMap(places);

      // Add event listeners for search and filter
      document.getElementById("search-bar").addEventListener("keyup", filterPlaces);
      document.getElementById("category-filter").addEventListener("change", filterPlaces);
    }
  </script>
</head>
<body onload="initMap()">
  <header>
    <h1>Zoe Atlas üêû</h1>
    <p>Curated, Black-friendly, and welcoming spots across the globe</p>
  </header>
  <div class="main-container">
    <div id="sidebar">
      <div class="controls">
        <input type="text" id="search-bar" placeholder="Search places..." aria-label="Search places">
        <select id="category-filter" aria-label="Filter by category">
          <option value="all">All Categories</option>
          <option value="hotel">Hotels üè®</option>
          <option value="restaurant">Restaurants üçΩÔ∏è</option>
          <option value="coffee">Coffee ‚òï</option>
          <option value="shop">Shops üõçÔ∏è</option>
          <option value="gym">Gyms üí™</option>
        </select>
      </div>
      <div class="places-list">
        <h2>Places</h2>
        <div id="place-list"></div>
      </div>
    </div>
    <div id="map"></div>
  </div>
  <footer>
    <p>Curated with ‚ù§Ô∏è by Zoe</p>
  </footer>
</body>
</html>