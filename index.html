<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zoe Atlas üêû</title>
  <style>
    /* Full page reset */
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }

    /* Map fills the viewport */
    #map {
      width: 100%;
      height: 100vh;
      position: relative;
    }

    /* Floating dropdown container */
    .floating-dropdown {
      position: absolute;
      top: 15px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999;
      width: 90%;
      max-width: 400px;
      background: rgba(255, 255, 255, 0.95);
      padding: 12px 16px;
      border-radius: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    /* City section headers */
    .city-header {
      cursor: pointer;
      font-weight: bold;
      margin-top: 10px;
      padding: 8px;
      background: #f1f1f1;
      border-radius: 15px;
    }

    /* Location items (hidden initially) */
    .location-item {
      display: none;
      padding: 6px 10px;
      cursor: pointer;
      border-radius: 12px;
      margin: 2px 0;
      background: #fff;
      border: 1px solid #ccc;
    }

    .location-item:hover {
      background-color: #ffe6f0;
    }

    @media (max-width: 768px) {
      .floating-dropdown {
        width: 95%;
        padding: 10px 14px;
      }
      .city-header {
        font-size: 14px;
        padding: 6px;
      }
      .location-item {
        font-size: 14px;
        padding: 5px 8px;
      }
    }
  </style>
</head>
<body>

<!-- Floating Dropdown Panel -->
<div class="floating-dropdown" id="dropdown">
  <!-- Dublin -->
  <div class="city-header">Dublin, Ireland</div>
  <div class="location-item" data-lat="53.3498" data-lng="-6.2603">Temple Bar</div>
  <div class="location-item" data-lat="53.3441" data-lng="-6.2675">Trinity College</div>
  <div class="location-item" data-lat="53.3488" data-lng="-6.2597">Dublin Castle</div>
  <div class="location-item" data-lat="53.3478" data-lng="-6.2597">St. Patrick's Cathedral</div>

  <!-- Madrid -->
  <div class="city-header">Madrid, Spain</div>
  <div class="location-item" data-lat="40.4168" data-lng="-3.7038">Plaza Mayor</div>
  <div class="location-item" data-lat="40.4220" data-lng="-3.6920">Retiro Park</div>
  <div class="location-item" data-lat="40.4183" data-lng="-3.7074">Royal Palace</div>
  <div class="location-item" data-lat="40.4154" data-lng="-3.7074">Prado Museum</div>

  <!-- Barcelona -->
  <div class="city-header">Barcelona, Spain</div>
  <div class="location-item" data-lat="41.3851" data-lng="2.1734">La Sagrada Familia</div>
  <div class="location-item" data-lat="41.3825" data-lng="2.1769">Gothic Quarter</div>
  <div class="location-item" data-lat="41.3755" data-lng="2.1498">Park G√ºell</div>
  <div class="location-item" data-lat="41.3785" data-lng="2.1854">Casa Batll√≥</div>

  <!-- Guatemala -->
  <div class="city-header">Guatemala</div>
  <div class="location-item" data-lat="14.6349" data-lng="-90.5069">Guatemala City: Central Market</div>
  <div class="location-item" data-lat="14.6091" data-lng="-90.5250">Antigua: Santa Catalina Arch</div>
  <div class="location-item" data-lat="14.5589" data-lng="-90.7334">Lake Atitl√°n: Panajachel</div>
  <div class="location-item" data-lat="14.5560" data-lng="-90.7330">Lake Atitl√°n: San Pedro La Laguna</div>
</div>

<!-- Map Container -->
<div id="map"></div>

<script>
  let map;
  let currentMarker = null;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: { lat: 40.4168, lng: -3.7038 },
      zoom: 6,
    });

    const customIcon = {
      url: "https://example.com/your-custom-icon.png", // replace with your marker
      scaledSize: new google.maps.Size(40, 40),
    };

    // Handle collapsible cities
    document.querySelectorAll('.city-header').forEach(header => {
      header.addEventListener('click', () => {
        const locations = [];
        let sibling = header.nextElementSibling;
        while (sibling && sibling.classList.contains('location-item')) {
          locations.push(sibling);
          sibling = sibling.nextElementSibling;
        }
        locations.forEach(loc => {
          loc.style.display = loc.style.display === 'block' ? 'none' : 'block';
        });
      });
    });

    // Handle location click
    document.querySelectorAll('.location-item').forEach(item => {
      item.addEventListener('click', () => {
        const lat = parseFloat(item.getAttribute('data-lat'));
        const lng = parseFloat(item.getAttribute('data-lng'));
        const position = { lat, lng };

        // Remove old marker
        if (currentMarker) {
          currentMarker.setMap(null);
        }

        // Add new marker
        currentMarker = new google.maps.Marker({
          position,
          map,
          icon: customIcon,
          animation: google.maps.Animation.DROP
        });

        map.setCenter(position);
        map.setZoom(12);
      });
    });
  }
</script>

<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap">
</script>
</body>
</html>

