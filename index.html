<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Zoe Atlas üêû</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffe6f0;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #ff66b2;
      color: white;
      text-align: center;
      padding: 20px;
    }
    header p {
      margin: 5px 0;
    }
    #map {
      height: 500px;
      width: 100%;
    }
    .places {
      background-color: #e6ffe6;
      padding: 20px;
    }
    .places h2 {
      margin-top: 0;
      color: #ff3399;
    }
    details {
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background: white;
      padding: 10px;
    }
    summary {
      font-weight: bold;
      font-size: 1.2em;
      cursor: pointer;
      color: #222;
    }
    ul {
      list-style: none;
      padding: 0;
      margin: 10px 0 0 15px;
    }
    li {
      margin-bottom: 10px;
      cursor: pointer;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #fafafa;
      transition: background 0.3s;
    }
    li:hover {
      background: #f0f0f0;
    }
    footer {
      background-color: #ff66b2;
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: 20px;
    }
    img.pin-photo {
      width: 100px;
      margin: 2px;
      border-radius: 5px;
    }
  </style>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB38rOcYSnjrdPynqMR6i0vpP8ZYi1Z2W4"></script>
  <script>
    let map;

    const places = [
      // Dublin
      { country: "Ireland", city: "Dublin", name: "Nine Crows Vintage", category: "shop", position: { lat: 53.3437, lng: -6.2646 }, description: "Curated Y2K vintage ‚Äì diverse staff, fun vibe.", address: "22 Temple Lane S, Dublin 2, D02 HP52, Ireland", photos: [], tip: "Try browsing on weekdays to avoid crowds." },
      { country: "Ireland", city: "Dublin", name: "Lou's Lot (George's Street Arcade)", category: "shop", position: { lat: 53.3425, lng: -6.2634 }, description: "Luxury vintage inside the arcade.", address: "South Great George's Street, Dublin 2, Ireland", photos: [], tip: "Check for seasonal sales!" },
      { country: "Ireland", city: "Dublin", name: "Copper and Straw", category: "coffee", position: { lat: 53.3461, lng: -6.2638 }, description: "Great coffee & friendly staff.", address: "Aston Quay, Temple Bar, Dublin, D02 FV38, Ireland", photos: [], tip: "Try their signature latte." },

      // Madrid
      { country: "Spain", city: "Madrid", name: "Amazing Coffee (Colombian owner)", category: "coffee", position: { lat: 40.4112, lng: -3.7035 }, description: "Great vibe, Colombian owner ‚Äì hot spot.", address: "C. de San Mill√°n, 4, Centro, 28012 Madrid, Spain", photos: [], tip: "Go early for a quiet experience." },

      // Barcelona
      { country: "Spain", city: "Barcelona", name: "De La Creme", category: "coffee", position: { lat: 41.3907, lng: 2.1594 }, description: "Great gelato & friendly staff.", address: "Carrer d'Enric Granados, 15, 08007 Barcelona, Spain", photos: [], tip: "Perfect spot for an afternoon treat." },

      // Guatemala
      { country: "Guatemala", city: "Antigua", name: "Hotel Casa Donya Antigua", category: "hotel", position: { lat: 14.5592, lng: -90.7355 }, description: "Gorgeous hotel ‚Äì breakfast amazing, staff amazing, great location.", address: "1A Calle Oriente 9A, Casa 9, Alameda Santa Rosa, Antigua, Guatemala", photos: [], tip: "Ask for a room with a balcony." },
      { country: "Guatemala", city: "Panajachel", name: "Nativo Caf√©", category: "coffee", position: { lat: 14.7400, lng: -91.1525 }, description: "Great coffee, breakfast was amazing, staff were friendly.", address: "Calle Del Frutal, Panajachel 07010", photos: [], tip: "Try the local pastries with your coffee." }
    ];

    const categoryEmoji = {
      hotel: "üè®",
      coffee: "‚òï",
      restaurant: "üçï",
      shop: "üõçÔ∏è",
      gym: "üí™üèø"
    };

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 3,
        center: { lat: 20.0, lng: -20.0 }
      });

      const list = document.getElementById("place-list");

      const grouped = {};
      places.forEach(place => {
        if (!grouped[place.country]) grouped[place.country] = {};
        if (!grouped[place.country][place.city]) grouped[place.country][place.city] = [];
        grouped[place.country][place.city].push(place);
      });

      Object.keys(grouped).forEach(country => {
        const countryDetails = document.createElement("details");
        const countrySummary = document.createElement("summary");
        countrySummary.textContent = country;
        countryDetails.appendChild(countrySummary);

        Object.keys(grouped[country]).forEach(city => {
          const cityDetails = document.createElement("details");
          const citySummary = document.createElement("summary");
          citySummary.textContent = city;
          cityDetails.appendChild(citySummary);

          const ul = document.createElement("ul");

          grouped[country][city].forEach(place => {
            const iconColors = {
              hotel: "http://maps.google.com/mapfiles/ms/icons/blue-dot.png",
              coffee: "http://maps.google.com/mapfiles/ms/icons/green-dot.png",
              restaurant: "http://maps.google.com/mapfiles/ms/icons/red-dot.png",
              shop: "http://maps.google.com/mapfiles/ms/icons/yellow-dot.png",
              gym: "http://maps.google.com/mapfiles/ms/icons/purple-dot.png"
            };

            const marker = new google.maps.Marker({
              position: place.position,
              map: map,
              title: place.name,
              icon: iconColors[place.category] || "http://maps.google.com/mapfiles/ms/icons/red-dot.png"
            });

            const photos = place.photos.map(p => `<img src="${p}" class="pin-photo">`).join('');
            const tip = place.tip ? `<p><strong>Community Tip:</strong> ${place.tip}</p>` : '';

            const infoWindow = new google.maps.InfoWindow({
              content: `
                <div style="max-width:250px;">
                  <h3>${place.name}</h3>
                  <p>${place.description}</p>
                  <p><em>${place.address}</em></p>
                  ${photos}
                  ${tip}
                  <p>
                    <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(place.address)}" target="_blank">Get Directions</a>
                  </p>
                </div>
              `
            });

            marker.addListener("click", () => {
              infoWindow.open(map, marker);
            });

            const li = document.createElement("li");
            const emoji = categoryEmoji[place.category] || "";
            li.innerHTML = `${emoji} <strong>${place.name}</strong><br><small>${place.description}</small>`;
            li.addEventListener("click", () => {
              map.setCenter(place.position);
              map.setZoom(15);
              infoWindow.open(map, marker);
              document.getElementById("map").scrollIntoView({ behavior: "smooth" });
            });
            ul.appendChild(li);
          });

          cityDetails.appendChild(ul);
          countryDetails.appendChild(cityDetails);
        });

        list.appendChild(countryDetails);
      });
    }
  </script>
</head>
<body onload="initMap()">
  <header>
    <h1>Zoe Atlas üêû</h1>
    <p>Curated, Black-friendly, and welcoming spots across the globe</p>
    <p><em>This is a living document of safe places globally for Black travelers and locals. üåç‚úàÔ∏è</em></p>
  </header>
  <div id="map"></div>
  <div class="places">
    <h2>Places</h2>
    <div id="place-list"></div>
  </div>
  <footer>
    Zoe Atlas üêû | Built with love üíñ
  </footer>
</body>
</html>
