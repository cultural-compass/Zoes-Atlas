<!-- Floating Dropdown Panel -->
<div class="floating-dropdown">
  <select id="locationSelect">
    <option value="">-- Select a location --</option>
    <!-- Dublin, Ireland -->
    <option value="53.3498,-6.2603">Dublin: Temple Bar</option>
    <option value="53.3441,-6.2675">Dublin: Trinity College</option>

    <!-- Madrid, Spain -->
    <option value="40.4168,-3.7038">Madrid: Plaza Mayor</option>
    <option value="40.4220,-3.6920">Madrid: Retiro Park</option>

    <!-- Barcelona, Spain -->
    <option value="41.3851,2.1734">Barcelona: La Sagrada Familia</option>
    <option value="41.3825,2.1769">Barcelona: Gothic Quarter</option>

    <!-- Guatemala -->
    <option value="14.6349,-90.5069">Guatemala City: Central Market</option>
    <option value="14.6091,-90.5250">Antigua: Santa Catalina Arch</option>
  </select>
</div>

<!-- Map Container -->
<div id="map"></div>

<style>
  /* Map Full Width */
  #map {
    width: 100%;
    height: 100vh;
    position: relative;
  }

  /* Floating dropdown styling */
  .floating-dropdown {
    position: absolute;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    width: 90%;
    max-width: 400px;
    background: rgba(255, 255, 255, 0.95);
    padding: 12px 16px;
    border-radius: 25px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  }

  .floating-dropdown select {
    width: 100%;
    padding: 10px 12px;
    font-size: 16px;
    border-radius: 25px;
    border: 1px solid #ccc;
    outline: none;
    background-color: #fff;
  }

  @media (max-width: 768px) {
    .floating-dropdown {
      width: 95%;
      padding: 10px 14px;
    }
    .floating-dropdown select {
      font-size: 14px;
      padding: 8px 10px;
    }
  }
</style>

<script>
  let map;
  let currentMarker = null;

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: { lat: 40.4168, lng: -3.7038 },
      zoom: 6,
    });

    const customIcon = {
      url: "https://example.com/your-custom-icon.png", // replace with your marker image
      scaledSize: new google.maps.Size(40, 40),
    };

    document.getElementById("locationSelect").addEventListener("change", function() {
      const value = this.value;
      if (!value) return;

      const [lat, lng] = value.split(",").map(Number);
      const position = { lat, lng };

      // Remove old marker
      if (currentMarker) {
        currentMarker.setMap(null);
      }

      // Add new custom marker
      currentMarker = new google.maps.Marker({
        position,
        map,
        icon: customIcon,
        animation: google.maps.Animation.DROP,
      });

      // Zoom to location
      map.setCenter(position);
      map.setZoom(12);
    });
  }
</script>

<script async defer
  src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap">
</script>

